<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>eCommerce Dashboard Enhanced</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary-bg: #f5f7fa;
      --accent-bg: #c3cfe2;
      --main-grad: linear-gradient(270deg, #f5f7fa, #c3cfe2, #a1c4fd, #c2e9fb);
      --card-bg: rgba(255,255,255,0.80);
      --shadow: 0 15px 35px rgba(0,0,0,0.16);
      --stat-glow: 0 0 12px #ffd700;
    }
    [data-theme="dark"] {
      --primary-bg: #222;
      --accent-bg: #333;
      --main-grad: linear-gradient(270deg, #232526, #414345, #485563, #29323c);
      --card-bg: rgba(40,45,50,0.85);
      --shadow: 0 8px 24px rgba(0,0,0,0.55);
      --stat-glow: 0 0 14px #00e2ff;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      min-height: 100vh;
      padding: 40px 20px;
      background: var(--main-grad);
      background-size: 800% 800%;
      animation: gradientBG 15s ease infinite;
      transition: background 0.8s;
    }
    @keyframes gradientBG { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
    .container { width:95%; max-width:1200px; margin:auto }
    .section {
      background: var(--card-bg);
      backdrop-filter: blur(14px);
      border-radius: 26px;
      box-shadow: var(--shadow);
      margin-bottom: 55px;
      padding: 40px;
      opacity:0;
      transform:translateY(60px);
      transition:all 0.85s cubic-bezier(.56,-0.42,.34,1.41);
    }
    .section.show { opacity:1; transform:translateY(0); }
    #details { opacity:1; transform:none; }
    h2 {
      font-size:2rem; margin-bottom:27px; color:#333;
      letter-spacing: 1px;
      text-shadow: 0 2px 6px rgba(150,150,150,0.09);
    }
    [data-theme="dark"] h2 { color:#eaeaea; }
    .user-info {
      display:grid; grid-template-columns:1fr 1fr; gap:20px; font-size:1.16rem;
      margin-bottom: 5px;
    }
    .user-info div {
      background:#e3f2fd; padding:20px; border-radius:15px; box-shadow:inset 0 1px 3px rgba(0,0,0,0.05);
      display:flex; align-items:center; gap:10px; font-weight:500;
      animation: bounceIcon 1s cubic-bezier(.68,-.55,.27,1.55);
    }
    [data-theme="dark"] .user-info div {
      background:#2c3e50; color:#f1f1f1;
    }
    @keyframes bounceIcon {
      0% {transform:translateY(-40px)}
      65% {transform:translateY(10px)}
      85% {transform:translateY(-4px)}
      100% {transform:translateY(0)}
    }
    .user-info i { color:#1976d2; font-size:1.4rem; }
    [data-theme="dark"] .user-info i { color:#00bcd4; }

    .stats-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(210px,1fr)); gap:30px; margin-top:20px;
    }
    .stat-card {
      background:#fff8e1; padding:30px; border-radius:20px; text-align:center;
      box-shadow:0 6px 12px rgba(0,0,0,0.11); transition:transform 0.35s cubic-bezier(.49,.32,.55,1.26), box-shadow 0.16s;
      will-change: transform;
      position:relative;
      cursor:pointer;
    }
    [data-theme="dark"] .stat-card {
      background:#2a2f36;
    }
    .stat-card:hover {
      box-shadow:var(--stat-glow);
      transform:translateY(-8px) scale(1.04) rotateZ(-2deg);
      filter: brightness(1.07);
      transition: box-shadow 0.26s cubic-bezier(.64,.11,.68,.8);
    }
    .stat-card i {
      font-size:2.1rem; color:#f57f17; margin-bottom:11px; filter:drop-shadow(0 3px 8px #ffd96667);
      transition:color .3s;
    }
    [data-theme="dark"] .stat-card i { color:#00e2ff; }

    
    .stat-card .value {
      font-size:2.2rem;
      font-weight:bold;
      margin-bottom:7px;
      letter-spacing:1px;
      background:linear-gradient(90deg, #111, #333, #000);
      background-clip:text;
      -webkit-background-clip:text;
      color:transparent;
      text-shadow:0 2px 8px rgba(0,0,0,0.3);
      animation:valueCount 1.15s cubic-bezier(.51,1.18,.66,1) both;
    }
    [data-theme="dark"] .stat-card .value {
      background:linear-gradient(90deg, #ffd700, #00e2ff, #a1c4fd);
      background-clip:text;
      -webkit-background-clip:text;
      color:transparent;
      text-shadow:0 2px 10px rgba(255,255,255,0.5);
    }

    @keyframes valueCount {
      0% {opacity:0;transform:scale(.2);}
      80% {opacity:1;transform:scale(1.1);}
      100% {opacity:1;transform:scale(1);}
    }
    .stat-card div:last-child { font-size:1.18rem; color:#555; }
    [data-theme="dark"] .stat-card div:last-child { color:#ccc; }
    .btn-toggle {
      display:inline-block; padding:10px 30px; border-radius:14px; border:none; background:#a1c4fd;
      color:#444; font-weight:600; font-size:1rem; margin-right:15px; cursor:pointer; margin-bottom:25px;
      box-shadow:0 1px 6px #0002; transition:background .33s, color .25s;
    }
    .btn-toggle:hover {
      background:#485563; color:#e3f2fd; letter-spacing:1.5px;
      transform:scale(1.05);
    }
    .btn-toggle:active { background:#ffd700; color:#232526; }
    canvas { max-width: 100%; margin-top: 20px; }
    @media (max-width: 768px) {
      .user-info { grid-template-columns:1fr; }
      h2 { font-size:1.6rem; }
    }
    
    .stat-card {
      perspective:700px;
      transform-style:preserve-3d;
    }
  </style>
</head>
<body>
  <div class="container">
    <button class="btn-toggle" id="themeToggle"><i class="fas fa-adjust"></i> Toggle Dark Mode</button>
    <div id="details" class="section show">
      <h2>User Details</h2>
      <div class="user-info">
        <div><i class="fas fa-user"></i> <strong>Name:</strong> Alice Johnson</div>
        <div><i class="fas fa-envelope"></i> <strong>Email:</strong> alice.johnson@example.com</div>
        <div><i class="fas fa-map-marker-alt"></i> <strong>Location:</strong> New York, USA</div>
        <div><i class="fas fa-calendar-alt"></i> <strong>Joined:</strong> January 12, 2021</div>
      </div>
    </div>
    <div id="stats" class="section">
      <h2>User Stats</h2>
      <div class="stats-grid">
        <div class="stat-card" data-value="124">
          <i class="fas fa-box"></i>
          <div class="value">0</div>
          <div>Total Orders</div>
        </div>
        <div class="stat-card" data-value="8240" data-symbol="$">
          <i class="fas fa-dollar-sign"></i>
          <div class="value">0</div>
          <div>Total Spent</div>
        </div>
        <div class="stat-card" data-value="0" data-text="2 days ago">
          <i class="fas fa-clock"></i>
          <div class="value">0</div>
          <div>Last Login</div>
        </div>
        <div class="stat-card" data-value="Gold" data-text="Gold">
          <i class="fas fa-star"></i>
          <div class="value">Gold</div>
          <div>Loyalty Level</div>
        </div>
      </div>
    </div>
    <div id="graphs" class="section">
      <h2>Monthly Spending</h2>
      <canvas id="salesChart"></canvas>
    </div>
  </div>

  <script>
    // DARK MODE TOGGLE
    const toggleBtn = document.getElementById("themeToggle");
    toggleBtn.addEventListener("click", function() {
      document.body.toggleAttribute('data-theme');
      if(document.body.hasAttribute('data-theme')) {
        localStorage.setItem('dashboardTheme','dark');
      } else {
        localStorage.setItem('dashboardTheme','light');
      }
    });
    // Persist theme
    if(localStorage.getItem('dashboardTheme')==='dark') {
      document.body.setAttribute('data-theme','dark');
    }

    // SCROLL REVEAL
    const sections = document.querySelectorAll('.section:not(#details)');
    function revealOnScroll() {
      const triggerBottom = window.innerHeight * 0.85;
      sections.forEach(section => {
        const sectionTop = section.getBoundingClientRect().top;
        if (sectionTop < triggerBottom) {
          section.classList.add('show');
        }
      });
    }
    window.addEventListener('scroll', revealOnScroll);
    window.addEventListener('load', revealOnScroll);

    // CHART.JS
    const ctx = document.getElementById('salesChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
        datasets: [{
          label: 'Amount ($)',
          data: [950, 1100, 1300, 900, 1600, 1900, 2000, 1700, 2200],
          fill: true,
          backgroundColor: 'rgba(76,175,80,0.15)',
          borderColor: 'rgba(76,175,80,1)',
          tension: 0.41,
          pointRadius: 7,
          pointHoverRadius: 13,
          pointBackgroundColor: '#ffd700',
          borderWidth: 3
        }]
      },
      options: {
        responsive:true,
        plugins: {
          legend: {position:'top'}
        },
        scales: {
          y: {
            beginAtZero:true,
            title:{display:true, text:'Amount ($)'}
          },
          x: {
            title:{display:true, text:'Month'}
          }
        },
        animation: {
          duration: 1600,
          delay: (context) => context.index * 100
        }
      }
    });

    // CARD COUNTER ANIMATION
    function animateCounters() {
      document.querySelectorAll('.stat-card').forEach(card => {
        let value = card.dataset.value;
        let valNode = card.querySelector('.value');
        let symbol = card.dataset.symbol||"";
        let text = card.dataset.text||"";
        if(!isNaN(value) && value!=='Gold'){
          let start=0, end=parseInt(value), duration=1200, step=30, current=0;
          let inc = Math.ceil(end/(duration/step));
          let interval = setInterval(()=>{
            current += inc;
            if(current >= end) {
              valNode.textContent = symbol + end;
              clearInterval(interval);
            } else {
              valNode.textContent = symbol + current;
            }
          },step);
        }
        else if (text!=="") { valNode.textContent = text; }
        else { valNode.textContent = value; }
      });
    }
    window.addEventListener('load', animateCounters);

    // PARALLAX TILT EFFECT
    document.querySelectorAll('.stat-card').forEach(card => {
      card.addEventListener('mousemove', function(e){
        let rect = card.getBoundingClientRect();
        let x = e.clientX - rect.left - rect.width/2;
        let y = e.clientY - rect.top - rect.height/2;
        let tiltX = (y/rect.height)*6;
        let tiltY = -(x/rect.width)*6;
        card.style.transform = `translateY(-8px) scale(1.04) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
      });
      card.addEventListener('mouseleave', function(){
        card.style.transform = '';
      });
    });
  </script>
</body>
</html>
